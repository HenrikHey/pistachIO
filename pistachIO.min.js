var pIOApp=function(){this.renderer=new pistachIORenderer;return this};pIOApp.prototype._ENUMS={_APP_CLASS:"pIO-App",_APP_ATRIB:"appName"};pIOApp.prototype.defaults={loading:'<div id="p2" class="mdl-progress mdl-js-progress mdl-progress__indeterminate"></div>',loading_message:"<p>Getting Data...</p>"};pIOApp.prototype.all_apps=[];pIOApp.prototype._create_app=function(a,b){return{app_name:a,index:b}};pIOApp.prototype.all_activities=[];
pIOApp.prototype._create_activity_object=function(a,b){return{activity:a,index:b}};pIOApp.prototype.get_activity=function(a){return this.all_activities[a].activity};pIOApp.prototype.all_current_activities=[];pIOApp.prototype._create_current_activity_object=function(a,b){return{activity:a,app_name:b}};pIOApp.prototype.get_current_activity=function(a){return this.all_current_activities[a].activity};pIOApp.prototype.js_Libraries=[];pIOApp.prototype.css_Libraries=[];
pIOApp.prototype.init=function(){document.body.innerHTML='<div id="current-required-libs">\n</div>'+document.body.innerHTML;for(var a=0;a<document.getElementsByClassName(this._ENUMS._APP_CLASS).length;a++)this.all_apps.push(this._create_app(document.getElementsByClassName(this._ENUMS._APP_CLASS)[a].getAttribute(this._ENUMS._APP_ATRIB)))};
pIOApp.prototype.getClassIndexByAttribName=function(a){for(var b=0;b<document.getElementsByClassName(this._ENUMS._APP_CLASS).length;b++)if(document.getElementsByClassName(this._ENUMS._APP_CLASS)[b].getAttribute(this._ENUMS._APP_ATRIB)==a)return b};
pIOApp.prototype.submitLibrariesToDOM=function(){for(var a="",b=0;b<this.js_Libraries.length;b++)a+='<script src="'+this.js_Libraries[b].address+'">\x3c/script> \x3c!--'+this.js_Libraries[b].name+"--\x3e";for(b=0;b<this.css_Libraries.length;b++)a+='<link rel="stylesheet" href="'+this.css_Libraries[b].address+'">';document.getElementById("current-required-libs").innerHTML=a};pIOApp.prototype.addJSLibrary=function(a,b){this.js_Libraries.push({name:a,address:b});this.submitLibrariesToDOM()};
pIOApp.prototype.removeJSLibrary=function(a,b){for(var c=[],d=0;d<this.js_Libraries.length;d++)this.js_Libraries[d].name!=a&&this.js_Libraries[d].address!=b&&c.push(this.js_Libraries[d]);this.js_Libraries=c;this.submitLibrariesToDOM()};pIOApp.prototype.addCSSLibrary=function(a,b){this.css_Libraries.push({name:a,address:b});this.submitLibrariesToDOM()};
pIOApp.prototype.removeCSSLibrary=function(a,b){for(var c=[],d=0;d<this.css_Libraries.length;d++)this.css_Libraries[d].name!=a&&this.css_Libraries[d].address!=b&&c.push(this.css_Libraries[d]);this.css_Libraries=c;this.submitLibrariesToDOM()};
pIOApp.prototype.clearTarget=function(a,b){if(1==b)for(var c=0;c<document.getElementsByClassName(this._ENUMS._APP_CLASS).length;c++)document.getElementsByClassName(this._ENUMS._APP_CLASS)[c].getAttribute(this._ENUMS._APP_ATRIB)==a&&(document.getElementsByClassName(this._ENUMS._APP_CLASS)[c].innerHTML="");else document.getElementsByClassName(this._ENUMS._APP_CLASS)[this.getClassIndexByAttribName(a)].innerHTML=""};
pIOApp.prototype.createActivity=function(a,b,c,d){this.all_activities.push({activity:new Activity(a,b,c,d),index:this.all_activities.length});return this.all_activities.length-1};
pIOApp.prototype.assignActivity=function(a,b){for(var c=0;c<this.all_apps.length&&b!=this.all_apps[c].name;c++)if(c==this.all_apps.length){console.error("No app exists with the name "+b+".");return}for(c=0;c<this.all_activities.length&&a!=this.all_activities[c].data;c++)if(c==this.all_activities.length){c=this.createActivity(a.getName(),a.getLibs(),a.getHTML(),a.getVars());this.all_current_activities.push(this._create_current_activity_object(c,b));this.all_current_activities[this.all_current_activities.length-
1].activity.setActiveMarker(this.all_current_activities.length-1);return}this.all_current_activities.push(this._create_current_activity_object(this.all_activities[a].activity,b));this.all_current_activities[this.all_current_activities.length-1].activity.setActiveMarker(this.all_current_activities.length-1);return this};pIOApp.prototype.getMarker=function(){return this.all_current_activities.length-1};
pIOApp.prototype.createAjaxRequestForHTMLPage=function(a){return $.ajax({type:"GET",url:"https://localhost/html/php/test.php",data:{data:a},contentType:"HTML"})};pIOApp.prototype.loadActivity=function(a){var b=this;this.createAjaxRequestForHTMLPage(this.all_current_activities[a].activity.getHTML()).success(function(c){b.all_current_activities[a].activity.setHTML(c);b.renderActivity(a,c)})};pIOApp.prototype.hasLoaded=function(a){a()};
pIOApp.prototype.fadeAnimation={prepareFadeIn:function(a){$('div[appName="'+a+'"]').css({opacity:0})},fadeIn:function(a){$('div[appName="'+a+'"]').animate({opacity:1},"slow")},fadeOut:function(a){$('div[appName="'+a+'"]').animate({opacity:0},"slow")}};
pIOApp.prototype.renderActivity=function(a,b){if(!(a>this.all_current_activities.length)){var c=this.all_current_activities[a].app_name;var d=void 0==b||null==b||0==b||0==b?"<center>\n<br><br><br>"+this.defaults.loading+"<br>"+this.defaults.loading_message+"</center>":this.renderer.render(b,this.all_current_activities[a].activity.getVars());this.fadeAnimation.prepareFadeIn(c);document.getElementsByClassName(this._ENUMS._APP_CLASS)[this.getClassIndexByAttribName(c)].innerHTML=d;this.fadeAnimation.fadeIn(c);
window.componentHandler.upgradeAllRegistered()}};pIOApp.prototype.upgradeActivity=function(a,b){b>this.all_activities.length||(this.all_activities[-index]={data:a,index:b})};pIOApp.prototype.endActivity=function(a){for(var b=[],c=0;c<this.all_current_activities.length;c++)this.all_current_activities[c].activity.getActiveMarker()!=a&&b.push(this.all_current_activities[c]);this.all_current_activities=b};pIOApp.prototype.checkIfUserIsOnTab=function(){$("window").blur(function(){alert("You switched the tab")})};
var pistachIORenderer=function(){};pistachIORenderer.prototype.replace=function(a,b,c){var d="",g=!1,h=0;"Array"==typeof c&&(g=!0);for(var e=0;e<a.length;e++)if("{"==a.charAt(e)&&"{"==a.charAt(e+1)&&"{"!=a.charAt(e+2)){for(var f=e+2,k="";"}"!=a.charAt(f);)k+=a.charAt(f),f++;k==b?(g?(d+=c[h],h++):d+=c,e+=k.length+3):d+=a.charAt(e)}else d+=a.charAt(e);return d.toString()};pistachIORenderer.prototype.reuseable_Templates={Id:[],template:[]};
pistachIORenderer.prototype.processTemplate=function(a,b){this.reuseable_Templates.Id.push(a);this.reuseable_Templates.template.push(b)};pistachIORenderer.prototype.tag_enums={_FUNCTION:"{_function}",_REPEAT:{_IDENTIFIER:"{_repeat.times:"}};
pistachIORenderer.prototype.processTemplateTags=function(a){for(var b=0;b<a.length;b++)if("{"==a.charAt(b)&&"{"==a.charAt(b+1)&&"{"==a.charAt(b+2)){var c=b+3,d="",g=!1,h=!1,e=0;if(a.substring(c,c+this.tag_enums._FUNCTION.length)==this.tag_enums._FUNCTION)c+=this.tag_enums._FUNCTION.length+1,g=!0;else if(a.substring(c,c+this.tag_enums._REPEAT._IDENTIFIER.length)==this.tag_enums._REPEAT._IDENTIFIER){c+=this.tag_enums._REPEAT._IDENTIFIER.length;for(e="";"}"!=a.charAt(c);)e+=a.charAt(c),c++;e=parseInt(e);
h=!0;c+=2}for(;"}}}"!=a.substring(c,c+3);)d+=a.charAt(c),c++;var f=void 0;try{if(f=eval(d),g)f=eval.call(null,f);else if(h){g="";for(h=0;h<e;h++)g+=f;f=g}}catch(k){console.error(k);break}"string"==typeof f||"number"==typeof f||"boolean"==typeof f?a=a.substring(0,b)+f+a.substring(c+3,a.length):"undefined"==typeof f&&console.log("{{{"+d+"}}} returned an UNDEFINED value!");return this.processTemplateTags(a)}return a};
pistachIORenderer.prototype.render=function(a,b){a=this.processTemplateTags(a);for(var c in b)a=this.replace(a,c,b[c]);return a};var AjaxHandler=function(){};AjaxHandler.prototype.getData=function(a,b,c,d){return $.ajax({url:""+b,data:a})};var Activity=function(a,b,c,d){this.name=a;this.libs=b;this.vars=d;this.html=c};Activity.prototype.getName=function(){return this.name};Activity.prototype.getLibs=function(){return this.libs};Activity.prototype.setHTML=function(a){this.html=a};
Activity.prototype.getHTML=function(){return this.html};Activity.prototype.getVars=function(){return this.vars};Activity.prototype.setActiveMarker=function(a){this.activeMarker=a};Activity.prototype.getActiveMarker=function(){return this.activeMarker};Activity.prototype.activityEnums={init_success:!1};Activity.prototype.onActorOptions={ONCLICK:"click"};Activity.prototype.run=function(a){this.activityEnums.init_success?a():console.log("The activity has not been initialized or has not finished initializing.")};
Activity.prototype.setCloseIdentifier=function(a,b,c){$(document).on(b,a,function(){c()})};